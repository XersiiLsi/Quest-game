Index: src/main/webapp/js/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const body = document.querySelector('body')\r\nconst box = document.querySelector('p')\r\nconst yesBtn = document.getElementById('yes')\r\nconst noBtn = document.getElementById('no')\r\nconst sbtn = document.getElementById('Ok')\r\nlet count = 1;\r\n\r\n\r\nconst changeBackImg = (info) => {\r\n    body.style.backgroundImage = \"url('/img/MidJourney/quest/\" + info +\".png')\"\r\n}\r\n\r\nsbtn.addEventListener(\"click\" ,  () => {\r\n    location.reload()\r\n})\r\n\r\n\r\nconst firstRequest= () => {\r\n    setTimeout(function () {\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"http://localhost:8080/controller\",\r\n            data: `{\r\n              \"count\" : \"0\"\r\n            }`,\r\n            success: function (result) {\r\n                box.textContent = result[\"202\"]\r\n                changeBackImg(result[\"imgId\"])\r\n            },\r\n            dataType: \"json\"\r\n        });\r\n\r\n    }, 1000);\r\n}\r\nyesBtn.addEventListener('click', () => {\r\n    console.log(\"sup yes\")\r\n    console.log(count)\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"http://localhost:8080/controller\",\r\n        data: `{\r\n           \"count\": \"` + count + `\",\r\n            \"btn\" : \"true\"\r\n        }`,\r\n        success: function (result) {\r\n            console.log(result)\r\n            if (result.hasOwnProperty('200')) {\r\n                box.textContent = result[\"200\"]\r\n                changeBackImg(result[\"imgId\"])\r\n            }\r\n            if (result.hasOwnProperty('200')) {\r\n                setTimeout(function() {\r\n                    box.textContent = result[\"202\"]\r\n                    if (result.hasOwnProperty('endImgId')){\r\n                        changeBackImg(result['endImgId'])\r\n                    }\r\n                }, 3000);\r\n            }\r\n            else {\r\n                box.textContent = result[\"202\"]\r\n                changeBackImg(result[\"imgId\"])\r\n            }\r\n            if (result.hasOwnProperty('transition')) {\r\n                count = result['transition']\r\n            }\r\n            if (result.hasOwnProperty('end')) {\r\n                sbtn.style.display = \"block\"\r\n                yesBtn.style.display = \"none\"\r\n                noBtn.style.display = \"none\"\r\n            }\r\n            count++\r\n        },\r\n        dataType: \"json\"\r\n    });\r\n})\r\nnoBtn.addEventListener('click', () => {\r\n    console.log('sup no')\r\n    console.log(count)\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"http://localhost:8080/controller\",\r\n        data: `{\r\n        \"count\": \"` + count + `\",\r\n          \"btn\" : \"false\"\r\n        }`,\r\n        success: function (result) {\r\n            console.log(result)\r\n            if (result.hasOwnProperty('200')) {\r\n                box.textContent = result[\"200\"]\r\n                changeBackImg(result[\"imgId\"])\r\n            }\r\n            if (result.hasOwnProperty('200')) {\r\n                setTimeout(function() {\r\n                    box.textContent = result[\"202\"]\r\n                    if (result.hasOwnProperty('endImgId')){\r\n                        changeBackImg(result['endImgId'])\r\n                    }\r\n                }, 3000);\r\n            }\r\n            else {\r\n                box.textContent = result[\"202\"]\r\n                changeBackImg(result[\"imgId\"])\r\n            }\r\n            if (result.hasOwnProperty('transition')) {\r\n                count = result['transition']\r\n            }\r\n            if (result.hasOwnProperty('end')) {\r\n                sbtn.style.display = \"block\"\r\n                yesBtn.style.display = \"none\"\r\n                noBtn.style.display = \"none\"\r\n            }\r\n            count++\r\n        },\r\n        dataType: \"json\"\r\n    });\r\n})
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/js/index.js b/src/main/webapp/js/index.js
--- a/src/main/webapp/js/index.js	(revision 3f41f1f3a924f22a6841e6310068f3bebd9a47e8)
+++ b/src/main/webapp/js/index.js	(date 1696327279902)
@@ -15,6 +15,7 @@
 })
 
 
+
 const firstRequest= () => {
     setTimeout(function () {
         $.ajax({
